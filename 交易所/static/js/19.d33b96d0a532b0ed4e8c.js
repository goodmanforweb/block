webpackJsonp([19],{bT1r:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),n=s.n(a),i=s("vtEc"),l={name:"releaseBuy",data:function(){return{checkedList:[],form:{price:"",trans_num:"",max_price:"",min_price:"",tpwd:"",notes:"",type:"sell",pay_wx:0,pay_alipay:0,pay_backcard:0},backDialogVisible:!1,dialogVisible:!1,tableData:[],paymentList:[],undoId:"",priceData:{}}},created:function(){this.getDataList()},methods:{getImg:function(e){return"backcard"==e?s("XjPw"):"wx"==e?s("eKwM"):(e="alipay")?s("CUkC"):void 0},getDataList:function(){var e=this;Object(i.u)().then(function(t){200==t.data.status?e.tableData=t.data.data.res:e.$public.msg(t.data.msg,"error",e)}),Object(i.m)().then(function(t){200==t.status&&(e.paymentList=t.data.data)}),Object(i.h)().then(function(t){200!=t.data.status||(e.priceData=t.data.data)})},addPayment:function(){this.$router.push({name:"addPayment"})},changeMaxPrice:function(){if(""!=this.form.min_price)return Number(this.form.max_price)<Number(this.form.min_price)?(this.$public.msg(this.$t("french.releaseSell[34]"),"error",this),void(this.form.max_price="")):void 0},changeMinPrice:function(){if(""!=this.form.max_price)return Number(this.form.max_price)<Number(this.form.min_price)?(this.$public.msg(this.$t("french.releaseSell[35]"),"error",this),void(this.form.min_price="")):void 0},undo:function(e){this.undoId=e,this.backDialogVisible=!0},submitUndo:function(){var e=this;Object(i.p)({type:"sell",id:this.undoId}).then(function(t){200==t.data.status?(e.$public.msg(e.$t("french.releaseSell[36]"),"success",e),e.getDataList(),e.backDialogVisible=!1):(e.$public.msg(t.data.msg,"error",e),e.backDialogVisible=!1)})},handleBuy:function(){if(sessionStorage.account&&sessionStorage.token){if(""==this.form.price)return void this.$public.msg(this.$t("french.releaseSell[38]"),"error",this);if(""==this.form.trans_num)return void this.$public.msg(this.$t("french.releaseSell[39]"),"error",this);if(""==this.form.max_price)return void this.$public.msg(this.$t("french.releaseSell[40]"),"error",this);if(""==this.form.min_price)return void this.$public.msg(this.$t("french.releaseSell[41]"),"error",this);if(this.checkedList==[])return void this.$public.msg(this.$t("french.releaseSell[42]"),"error",this);this.form.tpwd="",this.dialogVisible=!0}else this.$public.msg(this.$t("french.releaseSell[37]"),"error",this),this.$router.push({name:"login"})},submitOrder:function(){var e=this;if(""!=this.form.tpwd)return this.$public.pwd(this.form.tpwd)?void this.$public.googleVerify().then(function(t){e.form.tpwd=e.$public.Cryptographiccapital(e.form.tpwd),e.checkedList.indexOf("银行卡")>-1&&(e.form.pay_backcard=1),e.checkedList.indexOf("微信")>-1&&(e.form.pay_wx=1),e.checkedList.indexOf("支付宝")>-1&&(e.form.pay_alipay=1);var s=JSON.parse(n()(e.form));Object(i.n)(s).then(function(t){if(200!=t.data.status)return e.$public.msg(t.data.msg,"error",e),void(e.dialogVisible=!1);e.$public.msg(e.$t("french.releaseSell[45]"),"success",e),e.dialogVisible=!1,e.form.price="",e.form.trans_num="",e.form.min_price="",e.form.max_price="",e.form.notes="",e.getDataList()})}).catch(function(e){}):(this.$public.msg(this.$t("french.releaseSell[44]"),"error",this),void(this.form.tpwd=""));this.$public.msg(this.$t("french.releaseSell[43]"),"error",this)},showMore:function(){this.$router.push({name:"transactionDetail"})}},watch:{"form.price":function(e,t){var s=String(e).split(".");isNaN(Number(e))&&(this.form.price=t),2==s.length&&s[1].length>2&&(this.form.price=t)},"form.trans_num":function(e,t){var s=String(e).split(".");isNaN(Number(e))&&(this.form.trans_num=t),2==s.length&&s[1].length>4&&(this.form.trans_num=t)},"form.max_price":function(e,t){var s=String(e).split(".");isNaN(Number(e))&&(this.form.max_price=t),2==s.length&&s[1].length>2&&(this.form.max_price=t)},"form.min_price":function(e,t){var s=String(e).split(".");isNaN(Number(e))&&(this.form.min_price=t),2==s.length&&s[1].length>2&&(this.form.min_price=t)}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"release-buy"},[s("div",{staticClass:"buy-c"},[s("div",{staticClass:"buy-form"},[s("p",{staticClass:"buy-title"},[e._v("\n                "+e._s(e.$t("french.releaseSell[0]"))+"\n            ")]),e._v(" "),s("p",{staticClass:"buy-content"},[e._v("\n                "+e._s(e.$t("french.releaseSell[1]"))+"\n            ")]),e._v(" "),s("div",{staticClass:"input-c"},[s("div",{staticClass:"input-warp"},[s("p",{staticClass:"label"},[e._v("\n                        "+e._s(e.$t("french.releaseSell[2]"))+"\n                    ")]),e._v(" "),s("el-input",{staticClass:"input",attrs:{placeholder:e.priceData.price+"CNY"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),s("div",{staticClass:"input-warp"},[s("p",{staticClass:"label"},[e._v("\n                        "+e._s(e.$t("french.releaseSell[3]"))+"\n                    ")]),e._v(" "),s("el-input",{staticClass:"input",model:{value:e.form.trans_num,callback:function(t){e.$set(e.form,"trans_num",t)},expression:"form.trans_num"}})],1),e._v(" "),s("div",{staticClass:"input-warp"},[s("p",{staticClass:"label"},[e._v("\n                        "+e._s(e.$t("french.releaseSell[4]"))+"\n                    ")]),e._v(" "),s("el-input",{staticClass:"input harf-input",attrs:{placeholder:e.$t("french.releaseSell[5]")},on:{blur:e.changeMaxPrice},model:{value:e.form.max_price,callback:function(t){e.$set(e.form,"max_price",t)},expression:"form.max_price"}}),e._v(" "),s("el-input",{staticClass:"input harf-input",attrs:{placeholder:e.$t("french.releaseSell[6]")},on:{blur:e.changeMinPrice},model:{value:e.form.min_price,callback:function(t){e.$set(e.form,"min_price",t)},expression:"form.min_price"}}),e._v(" "),s("span",{staticClass:"unit-height unit"},[e._v("\n                        CNY\n                    ")]),e._v(" "),s("span",{staticClass:"unit-down unit"},[e._v("\n                        CNY\n                    ")])],1),e._v(" "),s("div",{staticClass:"input-warp"},[s("p",{staticClass:"label"},[e._v("\n                        "+e._s(e.$t("french.releaseSell[7]"))+"\n                    ")]),e._v(" "),s("el-input",{staticClass:"input",model:{value:e.form.notes,callback:function(t){e.$set(e.form,"notes",t)},expression:"form.notes"}})],1),e._v(" "),s("p",{staticClass:"pay-title"},[e._v("\n                   "+e._s(e.$t("french.releaseSell[8]"))+"\n                ")]),e._v(" "),[s("el-checkbox-group",{model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.paymentList,function(t,a){return s("div",{key:a},[1==t.status?s("el-checkbox",{attrs:{label:t.tip}},[s("p",{staticClass:"pay-warp"},[s("img",{staticClass:"pay-img",attrs:{src:e.getImg(t.type),alt:""}}),e._v(" "),t.tip?s("span",{staticClass:"bank-desc"},[e._v("\n                                        "+e._s(t.tip)+"\n                                    ")]):e._e(),e._v(" "),t.number?s("span",{staticClass:"bank-desc"},[e._v("\n                                        "+e._s(t.number)+"\n                                    ")]):e._e(),e._v(" "),t.bank?s("span",{staticClass:"bank-desc"},[e._v("\n                                        "+e._s(t.bank)+"\n                                    ")]):e._e(),e._v(" "),t.branch?s("span",{staticClass:"bank-desc"},[e._v("\n                                        "+e._s(t.branch)+"\n                                    ")]):e._e()])]):e._e()],1)}),0)],e._v(" "),s("p",{staticClass:"add-pay",on:{click:e.addPayment}},[e._v("\n                    "+e._s(e.$t("french.releaseSell[9]"))+"\n                ")]),e._v(" "),s("el-button",{staticClass:"buy-button",attrs:{type:"primary"},on:{click:e.handleBuy}},[e._v("\n                    "+e._s(e.$t("french.releaseSell[10]"))+"\n                ")])],2)]),e._v(" "),s("div",{staticClass:"buy-tabel"},[s("p",{staticClass:"title clr"},[s("span",{staticClass:"buy-name"},[e._v("\n                    "+e._s(e.$t("french.releaseSell[11]"))+"\n                ")]),e._v(" "),s("span",{staticClass:"show-more",on:{click:e.showMore}},[e._v("\n                    "+e._s(e.$t("french.releaseSell[12]"))+"\n                ")])]),e._v(" "),[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[s("el-table-column",{attrs:{prop:"order_no",label:e.$t("french.releaseSell[13]"),width:"180",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("french.releaseSell[14]"),width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v("\n                                "+e._s(t.row.trans_num)+"\n                            ")]),e._v(" "),s("span",[e._v("\n                                USDT\n                            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("french.releaseSell[15]")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v("\n                                "+e._s(t.row.deals_num)+"\n                            ")]),e._v(" "),s("span",[e._v("\n                                USDT\n                            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("french.releaseSell[16]")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v("\n                                "+e._s(t.row.totalprice)+"\n                            ")]),e._v(" "),s("span",[e._v("\n                                CNY\n                            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("french.releaseSell[17]")},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v("\n                                "+e._s(t.row.price)+"\n                            ")]),e._v(" "),s("span",[e._v("\n                                CNY\n                            ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("french.releaseSell[18]")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.$public.timestampToTime(t.row.add_time))+"\n                        ")]}}])}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("french.releaseSell[19]"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(s){return e.undo(t.row.id)}}},[e._v("\n                                "+e._s(e.$t("french.releaseSell[20]"))+"\n                            ")]):e._e(),e._v(" "),2==t.row.status?s("span",{staticStyle:{color:"green"}},[e._v("\n                                "+e._s(e.$t("french.releaseSell[21]"))+"\n                            ")]):e._e(),e._v(" "),3==t.row.status?s("span",{staticStyle:{color:"red"}},[e._v("\n                                "+e._s(e.$t("french.releaseSell[22]"))+"\n                            ")]):e._e()]}}])})],1)]],2),e._v(" "),s("el-dialog",{attrs:{title:e.$t("french.releaseSell[23]"),visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("p",{staticClass:"dialog-detail clr"},[s("span",{staticClass:"dialog-name"},[e._v("\n                    "+e._s(e.$t("french.releaseSell[24]"))+"\n                ")]),e._v(" "),s("span",{staticClass:"dialog-desc"},[e._v("\n                    "+e._s(e.form.price)+"\n                ")]),e._v(" "),s("span",{staticClass:"unit"},[e._v("\n                    CNY\n                ")])]),e._v(" "),s("p",{staticClass:"dialog-detail clr"},[s("span",{staticClass:"dialog-name"},[e._v("\n                    "+e._s(e.$t("french.releaseSell[25]"))+"\n                ")]),e._v(" "),s("span",{staticClass:"dialog-desc"},[e._v("\n                    "+e._s(e.form.price*e.form.trans_num)+"\n                ")]),e._v(" "),s("span",{staticClass:"unit"},[e._v("\n                    CNY\n                ")])]),e._v(" "),s("p",{staticClass:"dialog-detail clr"},[s("span",{staticClass:"dialog-name"},[e._v("\n                    "+e._s(e.$t("french.releaseSell[26]"))+"\n                ")]),e._v(" "),s("span",{staticClass:"dialog-desc"},[e._v("\n                    "+e._s(e.form.trans_num)+"\n                ")]),e._v(" "),s("span",{staticClass:"unit"},[e._v("\n                    USDT\n                ")])]),e._v(" "),s("el-input",{attrs:{type:"password",placeholder:e.$t("french.releaseSell[27]")},model:{value:e.form.tpwd,callback:function(t){e.$set(e.form,"tpwd",t)},expression:"form.tpwd"}}),e._v(" "),s("div",{staticClass:"btn-group"},[s("el-button",{staticClass:"dialog-btn",attrs:{type:"primary"},on:{click:e.submitOrder}},[e._v("\n                    "+e._s(e.$t("french.releaseSell[28]"))+"\n                ")]),e._v(" "),s("el-button",{staticClass:"dialog-btn",on:{click:function(t){e.dialogVisible=!1}}},[e._v("\n                    "+e._s(e.$t("french.releaseSell[29]"))+"\n                ")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:e.$t("french.releaseSell[30]"),visible:e.backDialogVisible},on:{"update:visible":function(t){e.backDialogVisible=t}}},[s("span",[e._v("\n                "+e._s(e.$t("french.releaseSell[31]"))+"\n            ")]),e._v(" "),s("div",{staticClass:"btn-group"},[s("el-button",{staticClass:"dialog-btn",attrs:{type:"primary"},on:{click:e.submitUndo}},[e._v("\n                    "+e._s(e.$t("french.releaseSell[32]"))+"\n                ")]),e._v(" "),s("el-button",{staticClass:"dialog-btn",on:{click:function(t){e.backDialogVisible=!1}}},[e._v("\n                    "+e._s(e.$t("french.releaseSell[33]"))+"\n                ")])],1)])],1)])},staticRenderFns:[]};var c=s("VU/8")(l,r,!1,function(e){s("j+rF")},null,null);t.default=c.exports},"j+rF":function(e,t){}});
//# sourceMappingURL=19.d33b96d0a532b0ed4e8c.js.map