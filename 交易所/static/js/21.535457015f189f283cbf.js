webpackJsonp([21],{"+qWp":function(t,e){},hvRJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("vMJZ"),a=(i("0w2Z"),{data:function(){return{submitLoading:!1,bindEmail:{email:"",code:"",moneyPwd:""},countDownNumber:60,countDownTimer:null,getCodeText:this.$t("center.bindEmail[8]"),ableGetCode:!0,sessionData:{},tel:"",getCodeLoading:!1}},created:function(){this.sessionData=JSON.parse(sessionStorage.getItem("userInfo")),this.tel=this.sessionData.mobile},watch:{},methods:{submit:function(){var t=this;this.$public.email(this.bindEmail.email)?this.$public.code(this.bindEmail.code)?this.$public.pwd(this.bindEmail.moneyPwd)?this.$public.googleVerify().then(function(e){e?t.submitRequest():t.$public.msg(t.$t("center.bindEmail[12]"),"error",t)}).catch(function(t){console.log("取消")}):this.$public.msg(this.$t("center.bindEmail[11]"),"warning",this):this.$public.msg(this.$t("center.bindEmail[10]"),"warning",this):this.$public.msg(this.$t("center.bindEmail[9]"),"warning",this)},submitRequest:function(){var t=this;this.submitLoading=!0;var e={account:JSON.parse(sessionStorage.getItem("account")),email:this.bindEmail.email,mobile:this.tel,code:this.bindEmail.code,tpwd:this.$public.Cryptographiccapital(this.bindEmail.moneyPwd)};Object(n.c)(e).then(function(e){t.submitLoading=!1,200==e.data.status?(t.$public.msg(t.$t("center.bindEmail[13]"),"success",t),t.$router.back()):(t.$public.msg(e.data.msg,"error",t),t.bindEmail.email="",t.bindEmail.moneyPwd="",t.bindEmail.code="")})},countDown:function(){var t=this;this.ableGetCode=!1;var e=this.countDownNumber;this.countDownTimer=setInterval(function(){if(t.countDownTimer&&e<=0)return clearInterval(t.countDownTimer),t.getCodeText=t.$t("center.bindEmail[14]"),void(t.ableGetCode=!0);t.getCodeText=e,e--},1e3)},getCodeRequest:function(){var t=this;if(this.$public.email(this.bindEmail.email)){this.getCodeLoading=!0,this.ableGetCode=!1;var e={email:this.bindEmail.email};Object(n.q)(e).then(function(e){t.getCodeLoading=!1,200==e.data.status?(t.$public.msg(t.$t("center.bindEmail[16]"),"success",t),t.countDown()):(t.$public.msg(e.data.msg,"error",t),t.ableGetCode=!0)},function(){t.$public.msg(t.$t("center.bindEmail[17]"),"error",t),t.getCodeLoading=!1,t.ableGetCode=!0})}else this.$public.msg(this.$t("center.bindEmail[15]"),"warning",this)}}}),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"base-info bindTel"},[i("p",{staticClass:"title"},[i("span"),t._v(t._s(t.$t("center.bindEmail[0]"))+"\n  ")]),t._v(" "),i("el-form",{staticClass:"bindTelForm",attrs:{model:t.bindEmail}},[i("el-form-item",{attrs:{label:t.$t("center.bindEmail[1]")}},[i("el-input",{attrs:{placeholder:t.$t("center.bindEmail[2]")},model:{value:t.bindEmail.email,callback:function(e){t.$set(t.bindEmail,"email",e)},expression:"bindEmail.email"}})],1),t._v(" "),i("div",{staticStyle:{overflow:"hidden"}},[i("el-col",{attrs:{span:18}},[i("el-form-item",{attrs:{label:t.$t("center.bindEmail[3]")}},[i("el-input",{attrs:{placeholder:t.$t("center.bindEmail[4]")},model:{value:t.bindEmail.code,callback:function(e){t.$set(t.bindEmail,"code",e)},expression:"bindEmail.code"}})],1)],1),t._v(" "),i("el-col",{staticClass:"codeBtn",attrs:{span:6}},[i("el-button",{staticStyle:{width:"112px"},attrs:{type:"primary",loading:t.getCodeLoading,disabled:!t.ableGetCode},on:{click:t.getCodeRequest}},[t._v(t._s(t.getCodeText))])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("center.bindEmail[5]")}},[i("el-input",{attrs:{"show-password":"",placeholder:t.$t("center.bindEmail[6]")},model:{value:t.bindEmail.moneyPwd,callback:function(e){t.$set(t.bindEmail,"moneyPwd",e)},expression:"bindEmail.moneyPwd"}})],1),t._v(" "),i("el-button",{staticClass:"submit",attrs:{type:"primary",loading:t.submitLoading},on:{click:t.submit}},[t._v(t._s(t.$t("center.bindEmail[7]")))])],1)],1)},staticRenderFns:[]};var l=i("VU/8")(a,s,!1,function(t){i("+qWp")},null,null);e.default=l.exports}});
//# sourceMappingURL=21.535457015f189f283cbf.js.map