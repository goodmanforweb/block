webpackJsonp([3],{"5DXl":function(t,e){},"86EK":function(t,e){},HHc6:function(t,e,a){"use strict";var o=a("cs1d"),i={props:{loop:Number},data:function(){return{loading:!0,overLoading:!1,setLoading:!1,timer:"",order_id:"",page:"1",num:"",maxNum:"",scopeData:"",zy:"",zs:"",setInfo:"",dialog_over:!1,dialog_set:!1,tabelData:[],curIndex:"",looptime:this.loop?this.loop:3e3}},watch:{num:function(t,e){isNaN(Number(t))&&(this.num=e),Number(t)>Number(this.maxNum)&&(this.num=this.maxNum)},dialog_over:function(){this.num=""},dialog_set:function(){this.zy="",this.zs=""},zy:function(t,e){var a=String(t).split(".");isNaN(Number(t))&&(this.zy=e),2==a.length&&a[1].length>this.$public.savePoint(this.scopeData.code)&&(this.zy=e)},zs:function(t,e){var a=String(t).split(".");isNaN(Number(t))&&(this.zs=e),2==a.length&&a[1].length>this.$public.savePoint(this.scopeData.code)&&(this.zs=e)}},computed:{zsRange:function(){var t;return 1==this.scopeData.otype?(t=Number(this.scopeData.newprice)-Number(this.setInfo.min_zs))<0?0:this.$public.transPrice(t,this.scopeData.code):(t=Number(this.scopeData.newprice)+Number(this.setInfo.min_zs),this.$public.transPrice(t,this.scopeData.code))},zyRange:function(){var t;return 1==this.scopeData.otype?(t=Number(this.scopeData.newprice)+Number(this.setInfo.min_zy),this.$public.transPrice(t,this.scopeData.code)):Number(this.scopeData.newprice)-Number(this.setInfo.min_zy)<0?t=0:(t=Number(this.scopeData.newprice)-Number(this.setInfo.min_zy),this.$public.transPrice(t,this.scopeData.code))}},methods:{getTabelData:function(){var t=this,e={mobile:sessionStorage.mobile,p:this.page};Object(o.e)(e).then(function(e){if(t.loading=!1,200==e.data.status){var a=["buyprice","buynum","totalprice","sxfee","dayfee","poit_win","poit_loss","fdyk","newprice"],o=e.data.data.res.map(function(t,e){for(var o in t)a.includes(o)&&(t[o]=parseFloat(Number(t[o])));return t});t.tabelData=o,t.curIndex&&(t.scopeData=o[t.curIndex])}else t.tabelData=[]}).catch(function(e){t.loading=!1})},loopAjax:function(){var t=this;this.timer=setInterval(function(){t.getTabelData()},this.looptime)},setOrder:function(t){var e=this;this.scopeData=t.row,this.curIndex=t.$index,Object(o.r)({pid:this.scopeData.pid}).then(function(t){200==t.data.status?(e.setInfo=t.data.data,e.dialog_set=!0):e.$public.msg(t.data.msg,"error",e)})},confirmSet:function(){var t=this;if(this.zy||this.zs){var e={h_id:this.scopeData.hold_id};this.zy&&(e.zy=this.zy),this.zs&&(e.zs=this.zs),this.setLoading=!0,Object(o.q)(e).then(function(e){t.setLoading=!1,200==e.data.status?(t.$public.msg(t.$t("contract.tips[5]"),"success",t),t.dialog_set=!1,t.getTabelData()):(t.$public.msg(e.data.msg,"error",t),t.dialog_set=!1)})}else this.dialog_set=!1},overOrder:function(t){this.maxNum=t.buynum,this.dialog_over=!0,this.order_id=t.hold_id},confirmOver:function(t){var e=this;if(""!=this.num){this.overLoading=!0;var a={num:this.num,order_id:this.order_id};Object(o.n)(a).then(function(t){e.overLoading=!1,200==t.data.status?(e.dialog_over=!1,e.$public.msg(e.$t("contract.tips[7]"),"success",e),e.$bus.$emit("order_success")):(e.dialog_over=!1,e.$public.msg(t.data.msg,"error",e))}).catch(function(t){e.overLoading=!1})}else this.$public.msg(this.$t("contract.tips[6]"),"warning",this)}},created:function(){if(!sessionStorage.token)return this.loading=!1,void(this.tabelData=[]);this.getTabelData(),this.$nextTick(this.loopAjax)},beforeDestroy:function(){window.clearInterval(this.timer)}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recordTabel-wrapper"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tabelData,height:"100%"}},[a("el-table-column",{attrs:{prop:"hold_no",label:t.$t("contract.order[0]"),width:"140",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pname",label:t.$t("contract.order[1]"),width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"otype",label:t.$t("contract.order[2]"),width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:1==e.row.otype?"green":"red"},[t._v(t._s(1==e.row.otype?t.$t("contract.order[3]"):t.$t("contract.order[4]")))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"buynum",label:t.$t("contract.order[5]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"buyprice",label:t.$t("contract.order[6]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"newprice",label:t.$t("contract.order[7]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fdyk",label:t.$t("contract.order[8]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalprice",label:t.$t("contract.order[9]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sxfee",label:t.$t("contract.order[10]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"poit_win",label:t.$t("contract.order[11]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"poit_loss",label:t.$t("contract.order[12]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dayfee",label:t.$t("contract.order[13]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addtime",label:t.$t("contract.order[14]"),width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n              "+t._s(t.$public.timestampToTime(e.row.addtime))+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("contract.order[15]"),width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"btn-cancel btn",on:{click:function(a){return t.overOrder(e.row)}}},[t._v(t._s(t.$t("contract.order[16]")))]),t._v(" "),a("div",{staticClass:"btn-cancel btn",on:{click:function(a){return t.setOrder(e)}}},[t._v(t._s(t.$t("contract.order[17]")))])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{"custom-class":"reset-dialog",visible:t.dialog_over,width:"332px"},on:{"update:visible":function(e){t.dialog_over=e}}},[a("h1",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("contract.order[18]")))]),t._v(" "),a("el-input",{model:{value:t.num,callback:function(e){t.num=t._n(e)},expression:"num"}},[a("div",{staticClass:"slot-prefix",attrs:{slot:"prefix"},slot:"prefix"},[t._v(t._s(t.$t("contract.order[19]"))+":")])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-close btn",on:{click:function(e){t.dialog_over=!1}}},[t._v(t._s(t.$t("contract.order[20]")))]),t._v(" "),a("el-button",{staticClass:"btn-confirm btn",attrs:{type:"primary",loading:t.overLoading},on:{click:t.confirmOver}},[t._v(t._s(t.$t("contract.order[21]")))])],1)],1),t._v(" "),a("el-dialog",{attrs:{"custom-class":"reset-dialog",visible:t.dialog_set,width:"332px"},on:{"update:visible":function(e){t.dialog_set=e}}},[a("h1",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("contract.order[17]")))]),t._v(" "),a("div",{staticClass:"set-line"},[a("el-input",{model:{value:t.zy,callback:function(e){t.zy=e},expression:"zy"}},[a("div",{staticClass:"slot-prefix",attrs:{slot:"prefix"},slot:"prefix"},[t._v(t._s(t.$t("contract.order[22]"))+":")])]),t._v(" "),1==t.scopeData.otype?a("div",{staticClass:"tips"},[t._v("≥ "+t._s(t.zyRange))]):a("div",{staticClass:"tips"},[t._v("≤ "+t._s(t.zyRange))])],1),t._v(" "),a("div",{staticClass:"set-line"},[a("el-input",{model:{value:t.zs,callback:function(e){t.zs=e},expression:"zs"}},[a("div",{staticClass:"slot-prefix",attrs:{slot:"prefix"},slot:"prefix"},[t._v(t._s(t.$t("contract.order[23]"))+":")])]),t._v(" "),1==t.scopeData.otype?a("div",{staticClass:"tips"},[t._v("≤ "+t._s(t.zsRange))]):a("div",{staticClass:"tips"},[t._v("≥ "+t._s(t.zsRange))])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-close btn",on:{click:function(e){t.dialog_set=!1}}},[t._v(t._s(t.$t("contract.order[20]")))]),t._v(" "),a("el-button",{staticClass:"btn-confirm btn",attrs:{loading:t.setLoading,type:"primary"},on:{click:t.confirmSet}},[t._v(t._s(t.$t("contract.order[21]")))])],1)])],1)},staticRenderFns:[]};var n=a("VU/8")(i,r,!1,function(t){a("sK5Z")},null,null);e.a=n.exports},ZKos:function(t,e,a){"use strict";var o=a("cs1d"),i={props:{loop:Number},data:function(){return{tabelData:[],timer:"",loading:!0,looptime:this.loop?this.loop:3e3}},methods:{getTabelData:function(){var t=this,e={mobile:sessionStorage.mobile,p:this.page};Object(o.t)(e).then(function(e){if(t.loading=!1,200==e.data.status){var a=["buyprice","buynum","totalprice","sxfee","newprice"],o=e.data.data.res.map(function(t,e){for(var o in t)a.includes(o)&&(t[o]=parseFloat(Number(t[o])));return t});t.tabelData=o}else t.tabelData=[]}).catch(function(e){console.log(e),t.loading=!1})},loopAjax:function(){var t=this;this.timer=setInterval(function(){t.getTabelData()},this.looptime)},cancelOrder:function(t){var e=this;this.$confirm(this.$t("contract.tips[8]"),this.$t("contract.tips[9]"),{type:"warning"}).then(function(){var a={mobile:sessionStorage.mobile,order_id:t};Object(o.c)(a).then(function(t){200==t.data.status&&(e.$public.msg(e.$t("contract.tips[10]"),"success",e),e.getTabelData(),e.$bus.$emit("order_success"))}).catch(function(t){})}).catch(function(){})}},created:function(){if(!sessionStorage.token)return this.loading=!1,void(this.tabelData=[]);this.getTabelData(),this.$nextTick(this.loopAjax)},beforeDestroy:function(){window.clearInterval(this.timer)}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recordTabel-wrapper"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tabelData,height:"100%"}},[a("el-table-column",{attrs:{prop:"en_no",label:t.$t("contract.order[0]"),width:"140",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pname",label:t.$t("contract.order[1]"),width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"otype",label:t.$t("contract.order[2]"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:1==e.row.otype?"green":"red"},[t._v(t._s(1==e.row.otype?t.$t("contract.order[3]"):t.$t("contract.order[4]")))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"buynum",label:t.$t("contract.order[24]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"buyprice",label:t.$t("contract.order[25]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalprice",label:t.$t("contract.order[9]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sxfee",label:t.$t("contract.order[10]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"leverage",label:t.$t("contract.trader[19]"),width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addtime",label:t.$t("contract.order[26]"),width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n              "+t._s(t.$public.timestampToTime(e.row.addtime))+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"100",label:t.$t("contract.order[15]")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"btn-cancel btn",on:{click:function(a){return t.cancelOrder(e.row.en_id)}}},[t._v(t._s(t.$t("contract.order[27]")))])]}}])})],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,r,!1,function(t){a("5DXl")},null,null);e.a=n.exports},Zs1g:function(t,e,a){"use strict";var o=a("cs1d"),i={props:{loop:Number},data:function(){return{tabelData:[],loading:!0,timer:"",looptime:this.loop?this.loop:3e3,page:{p:1,size:10}}},computed:{},methods:{transPCType:function(t){return{1:this.$t("contract.state[0]"),2:this.$t("contract.state[1]"),3:this.$t("contract.state[2]"),4:this.$t("contract.state[3]")}[t]},getTabelData:function(){var t=this,e={mobile:sessionStorage.mobile,p:this.page.p,size:10};Object(o.d)(e).then(function(e){if(t.loading=!1,200==e.data.status){var a=["buyprice","sellprice","poit_win","poit_loss","buynum","totalprice","sxfee","newprice"],o=e.data.data.res.map(function(t,e){for(var o in t)a.includes(o)&&(t[o]=parseFloat(Number(t[o])));return t});t.tabelData=o}}).catch(function(e){t.loading=!1})},loopAjax:function(){var t=this;this.timer=setInterval(function(){t.getTabelData()},this.looptime)}},created:function(){sessionStorage.token?(this.getTabelData(),this.$nextTick(this.loopAjax)):this.loading=!1},beforeDestroy:function(){window.clearInterval(this.timer)}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recordTabel-wrapper"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tabelData,height:"100%"}},[a("el-table-column",{attrs:{prop:"pname",label:t.$t("contract.order[1]"),width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"otype",label:t.$t("contract.order[2]"),width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:1==e.row.otype?"green":"red"},[t._v("\n          "+t._s(1==e.row.otype?t.$t("contract.order[3]"):t.$t("contract.order[4]")))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"buynum",label:t.$t("contract.order[28]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"buyprice",label:t.$t("contract.order[6]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellprice",label:t.$t("contract.order[29]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalprice",label:t.$t("contract.order[9]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sxfee",label:t.$t("contract.order[10]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"poit_win",label:t.$t("contract.order[22]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"poit_loss",label:t.$t("contract.order[23]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"profit",label:t.$t("contract.order[30]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dayfee",label:t.$t("contract.order[13]"),width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pc_type",label:t.$t("contract.trader[15]"),width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n          "+t._s(t.transPCType(e.row.pc_type))+"\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"addtime",label:t.$t("contract.order[14]"),width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n          "+t._s(t.$public.timestampToTime(e.row.addtime))+"\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"selltime",label:t.$t("contract.order[31]"),width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n          "+t._s(t.$public.timestampToTime(e.row.selltime))+"\n        ")])]}}])})],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,r,!1,function(t){a("86EK")},null,null);e.a=n.exports},cyYr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("cs1d"),i=a("spLH"),r=a("ZKos"),n=a("HHc6"),s=a("Zs1g"),c={data:function(){return{activeName:"持仓",looptime:3e3,page:{p:1,total:10,size:10},data:{yingkui:"--",keyong_price:"--",totaldeposit:"--",risk:"--"}}},components:{PositionTabel:n.a,HistroyTabel:s.a,EnTrustTabel:r.a,pagination:i.a},computed:{disco:function(){return{"持仓":"0","委托":"131px","历史":"262px"}[this.activeName]}},methods:{changePage:function(t){this.page.p=t},getTongji:function(){var t=this;Object(o.s)({account:JSON.parse(sessionStorage.account)}).then(function(e){200==e.data.status&&(t.data=e.data.data)})},loopAjax:function(){this.timer=setInterval(this.getTongji,this.looptime)}},beforeDestroy:function(){window.clearInterval(this.timer),this.$bus.$off("upadte_pagination")},created:function(){var t=this;this.getTongji(),this.$nextTick(this.loopAjax),this.$bus.$on("upadte_pagination",function(e){t.page.total=e})},mounted:function(){sessionStorage.token||(this.$public.msg("请登录","warning",this),this.$router.push({path:"/login"}))}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contractOrder-page-wrapper"},[a("div",{staticClass:"contractOrder-main"},[a("h1",[t._v(t._s(t.$t("contract.record[5]")))]),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"item"},[t._v(t._s(t.$t("contract.record[3]"))+"："+t._s(t.$public.toIntercept(t.data.yingkui,4)))]),t._v(" "),a("div",{staticClass:"item"},[t._v(t._s(t.$t("contract.record[6]"))+"："+t._s(t.$public.toIntercept(t.data.keyong_price,4)))]),t._v(" "),a("div",{staticClass:"item"},[t._v(t._s(t.$t("contract.record[7]"))+"："+t._s(t.$public.toIntercept(t.data.totaldeposit,4)))]),t._v(" "),a("div",{staticClass:"item green rate"},[t._v(t._s(t.$t("contract.record[4]"))+"："+t._s(t.data.risk))])]),t._v(" "),a("div",{staticClass:"radio-wrap"},[a("div",{staticClass:"radio",class:"持仓"==t.activeName?"active":"",on:{click:function(e){t.activeName="持仓"}}},[t._v(t._s(t.$t("contract.record[0]")))]),t._v(" "),a("div",{staticClass:"radio",class:"委托"==t.activeName?"active":"",on:{click:function(e){t.activeName="委托"}}},[t._v(t._s(t.$t("contract.record[1]")))]),t._v(" "),a("div",{staticClass:"radio",class:"历史"==t.activeName?"active":"",on:{click:function(e){t.activeName="历史"}}},[t._v(t._s(t.$t("contract.record[2]")))]),t._v(" "),a("div",{staticClass:"laoyoutiao",style:"left:"+t.disco})]),t._v(" "),a("div",{staticClass:"tabel-wrap"},["持仓"==t.activeName?a("PositionTabel",{attrs:{page:t.page.p,loop:t.looptime}}):t._e(),t._v(" "),"委托"==t.activeName?a("EnTrustTabel",{attrs:{page:t.page.p,loop:t.looptime}}):t._e(),t._v(" "),"历史"==t.activeName?a("HistroyTabel",{attrs:{page:t.page.p,loop:t.looptime}}):t._e()],1)])])},staticRenderFns:[]};var d=a("VU/8")(c,l,!1,function(t){a("hint")},null,null);e.default=d.exports},hint:function(t,e){},sK5Z:function(t,e){}});
//# sourceMappingURL=3.f62f4276256d6062ba83.js.map